
Metamodeling of M/M/1 call center
=======================

Let :math:`\bar{f} (x_i)` be the average waiting time in a M/M/1 queue as determined through the simulation of :math:`t_i` arrivals when the utilization rate is :math:`x_i(x_i = \lambda / \mu)`, where :math:`\lambda`
and :math:`\mu` are the arrival and service rates, respectively). Furthermore, let :math:`x` be the vector :math:`(x_1, x_2,...x_n)` of utilization rates at which the average waiting time is estimated.
Lastly, let


  :math:`\hat{f} (x) = (\beta_0 + \beta_1 * x + \beta_2 * x^2) / (1 - x)`


The goal is to find \beta_0, \beta_1 and \beta_2 in order to approximate :math:`\bar{f} (x)` through :math:`\hat{f} (x)` as accurately as possible, i.e. 

   min :math:`(\bar{f} (x) - \hat{f} (x)) \Gamma ^-1 (\bar{f} (x) - \hat{f} (x))`

where :math:`\Gamma` is the convenience matrix for :math:`\bar{f} (x)`. It accounts for any correction, such as the use of common random numbers, in the estimation of the average waiting times through simulation.
If the simulation at each :math:`x_i` is done independently, then :math:`\Gamma` would be a diagonal matrix.



This example is adapted from Cheng, R and Kleijnen,J.(1999). Improved Design of Queueing Simulation Experience with Highly Heteroscedastic Responses. Operations Research, v. 47, n. 5, pp. 762-777.



*Recommended Parameter Settings:* 
    Use :math:`n = 5` and :math:`x = (0.5, 0.564, 0.706, 0.859, 0.950)`. Lastly, take :math:`T = 50000(0.007, 0.024, 0.064, 0.258, 0.647)` and estimate :math:`\bar{f} (x_i)` independently for each :math:`x_i`.


If multiple solutions are needed, take :math:`\beta_0`, :math:`\beta_1`, :math:`\beta_2` uniformly distributed on [0,2].



*Decision Variables:* 
    The utilization rate x is the decision variable in this M/M/1 queue Metamodeling problem

*Objective:*
    Find \beta_0, \beta_1 and \beta_2 to approximate :math:`\bar{f} (x)` through :math:`\hat{f} (x)` as accurately as possible, with the analysis of the relation between
    utilization rate and waiting time.

*Constraints:* 
    The capacity of the simulated working station. The maximum and minimum of the inter-arrival time, station processing time.

*Problem Factors:*
    Inter-arrival time: Represents the arrival rates between entities.
    The service time: Represents the service rate of each server in the M/M/1 Queueing station.
    The number of stations: Represents the total number of stations in this model.

*Fixed Model Factors:* 
    Parameter setting with n = 5 and x = (0.5, 0.564, 0.706, 0.859, 0.950). The parameter of warm up period.

*Response:*
    The average waiting time in this M/M/1 queue determined by equation provided above.

*Measurement of Time:*
    Number of estimations of :math:`\bar{f} (x_i)` made.

*Starting Solutions:* 
    Take :math:`\beta_1 = 1`, and :math:`\beta_1 = \beta_2 = 0`. 


*Optimal Solution:* 
    :math:`\beta_0 = \beta_2 = 0` and :math:`\beta_1 = 1`.
