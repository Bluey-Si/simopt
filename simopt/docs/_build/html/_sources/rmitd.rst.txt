Multi-Stage Revenue Management with Inter-Temporal Dependence
=============================================================

This example is adapted (almost verbatim) from test problem 2 by Prof. J.M. Harrison for class OIT 603
at Stanford University.

Problem Statment
###########

A businessman chooses to buy :math:`b > 0` units of capacity, paying :math:`c > 0` dollars per unit of capacity at :math:`t = 0`.
During stage :math:`t (t = 1, . . . , T)` he observes demand :math:`D_t` for units at price :math:`p_t`, at which point, he must choose to
sell :math:`x_t` units :math:`(0 ≤ x_t ≤ D_t)`, provided that the total number of units sold (accross all past periods) does not
exceed :math:`b`.

To better understand the initial capacity and selling decisions, consider the following: There is a large
initial capacity :math:`b` (units purchased). In period 1 the businessman receives a certain demand for units at low
price :math:`p_{low}`. The decision at period 1 is, esentially, choosing a number of units to be sold right now in order to
reserve some units for customers arriving later because they will pay more for the product; The opportunity
cost for each unit of capacity reserved is now :math:`p_{low}`. Thus, in order to make a wise decision at period 1, the
businessman must consider later demand.

Assume that :math:`D_t = μ_tXY_t` where :math:`X` has a gamma distribution with parameters :math:`k > 0` and :math:`θ > 0` such that
it has mean :math:`kθ = 1` and standard deviation :math:`{\sqrt{k}}θ = 1/ {\sqrt{k}}. Y_1, . . . , Y_T` are i.i.d. exponential with mean 1 and 
:math:`μ_t` are positive constants (:math:`\forall\:t`).

Our goal is to calculate how many units should purchased (:math:`b`) and how many units should be reserved for
future periods in order to maximize total revenue. In other words, we want to find b and :math:`r_t, t = 2, . . . , T` so
that, if the number of units sold in all periods before :math:`t` is less than :math:`b − r_t` (:math:`r_t` units are reserved for periods
:math:`t, t + 1, . . . , T`), revenue is maximized.

*Recommended Parameters:* Take :math:`c = $80, T = 3, k = θ = 1` and :math:`μ_t, p_t` as follows: 

.. image:: rmitd.png
  :alt: The example table has failed to display
  :width: 300

*Starting Solutions:* :math:`b` = 100, :math:`r_2` = 50, :math:`r_3 = 30`. If multiple solutions are needed, use :math:`r_2` ∼ Uniform(40,60) and
:math:`r_3` ∼ Uniform(20,40).

*Measurement of Time:* Number of periods

*Optimal Solution:* Unknown

Factors
#########

**Time Horizon:** Period of time that is considered

**Prices:** Prices for each Period

**Demand Mean:** Mean demand for each period

**Cost:** Cost per unit of capacity at :math:`t = 0`

**Gamma Shape(k): Shape parameter of gamma distribution

**Gamma Scale(\theata):** Scale parameter of gamma distribution

**Initial Inventory:** Initial Inventory

**Reservation Quantity:** Inventory to reserve going into periods :math:`2, 3, ..., T`.

Responses
#########

**Revenue:** Total revenue of given model

Objective Function
#######

Contraints
#######



